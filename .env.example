# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Frontend Configuration
# Frontend will be served on port 8001
FRONTEND_PORT=8001

# HLS Configuration
# Base URL for HLS content (served on port 80)
HLS_BASE_URL=http://localhost
HLS_URL=http://localhost/hls

# Frontend HLS Base URL (used during Docker build)
# Set this to your public domain or IP address where HLS content will be accessible
# Example: http://192.168.1.100/hls or https://yourdomain.com/hls
VITE_HLS_BASE_URL=http://localhost/hls

# Database
DB_PATH=/data/jobs.db
ARCHIVES_DB_PATH=/data/archives.db
DB_WAL_MODE=true
# Database busy timeout in milliseconds (default: 30000 = 30 seconds)
# Increase this if you experience database locking errors under heavy load
DB_BUSY_TIMEOUT=30000

# FFmpeg
# Maximum number of concurrent encoding jobs (default: 20)
# Increase this based on your server's CPU/GPU capacity
# Lower values ensure stability, higher values allow more concurrent streams
MAX_CONCURRENT_JOBS=20
DEFAULT_SEGMENT_DURATION=6
DEFAULT_PLAYLIST_SIZE=10

# Job Recovery (on container restart)
AUTO_RESTART_JOBS_ON_BOOT=true

# Monitoring
STATS_UPDATE_INTERVAL=5
STATS_RETENTION_HOURS=1

# Storage Paths
INPUT_PATH=/input
OUTPUT_PATH=/output
DATA_PATH=/data

# Optional Security
API_KEY=
ENABLE_AUTH=false

# Hardware Acceleration
ENABLE_GPU=false
GPU_DEVICE=0

# Logging
LOG_LEVEL=INFO
LOG_FILE=/data/logs/encoder.log